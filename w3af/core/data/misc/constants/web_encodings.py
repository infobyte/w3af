from collections import OrderedDict

URL_HEX_FORMAT = '%%%s'

HEX_FORMAT = '&#x%s;'
DEC_FORMAT = '&#%s;'
DEC_PADDED_FORMAT = '&#%03d;'

#
# The number of encodings a developer can use is huge, and the frameworks
# don't help either, since some will (for example) write &#034; and other
# will write &#34;
#
# We want to make a real effort to cleanup all the bodies, so we are compiling
# A list with all the ways a special character can be written
#
# This table is just a reminder of how things can be encoded, it is not used
# much in the code
#
ENCODING_REMINDER = OrderedDict([
    ('#',  ['#',                                                  '%23', '%2523']),
    ('&',  ['&', '&amp;',  '&#x26;', '&#38;', '&#038;',       '%26', '%2526']),
    ('%',  ['%',                                                  '%25', '%2525']),
    ('"',  ['"', '&quot;', '&#x22;', '&#34;', '&#034;',       '%22', '%2522', '\\u0022', '\\"']),
    ("'",  ["'", '&apos;', '&#x27;', '&#39;', '&#039;',       '%27', '%2527', '\\u0027', "\\'"]),
    ('>',  ['>', '&gt;',   '&#x3e;', '&#62;', '&#062;',       '%3e', '%253e']),
    ('=',  ['=', '&eq;',   '&#x3d;', '&#61;', '&#061;',       '%3d', '%253d']),
    (' ',  [' ', '&nbsp;', '&#x20;', '&#32;', '&#032;', '+', '%20', '%2520']),
    ('<',  ['<', '&lt;',   '&#x3c;', '&#60;', '&#060;',       '%3c', '%253c']),
    (';',  [';',                                                  '%3b', '%253b']),
    ('/',  ['/',                                                  '%2f', '%252f']),
    (':',  [':',                                                  '%3a', '%253a']),
    ('@',  ['@',                                                  '%40', '%2540']),
    ('$',  ['$',                                                  '%24', '%2524']),
    (',',  [',',                                                  '%2c', '%252c']),
    ('?',  ['?',                                                  '%3f', '%253f']),
    ('\r', ['\r',                                                 '%0d', '%250d']),
    ('\n', ['\n',                                                 '%0a', '%250a']),
])

SPECIAL_CHARS = {'#',
                 '&',
                 '%',
                 '"',
                 "'",
                 '>',
                 '=',
                 ' ',
                 '<',
                 ';',
                 '/',
                 ':',
                 '@',
                 '$',
                 ',',
                 '?',
                 '\r',
                 '\n'}


HTML_ENCODE_NAMES = {
    '&': '&amp;',
    '"': '&quot',
    "'": '&apos;',
    '>': '&gt;',
    '=': '&eq;',
    ' ': '&nbsp;',
    '<': '&lt;',
}


HEX_MAP = {
 '\x00': '00',
 '\x01': '01',
 '\x02': '02',
 '\x03': '03',
 '\x04': '04',
 '\x05': '05',
 '\x06': '06',
 '\x07': '07',
 '\x08': '08',
 '\t': '09',
 '\n': '0a',
 '\x0b': '0b',
 '\x0c': '0c',
 '\r': '0d',
 '\x0e': '0e',
 '\x0f': '0f',
 '\x10': '10',
 '\x11': '11',
 '\x12': '12',
 '\x13': '13',
 '\x14': '14',
 '\x15': '15',
 '\x16': '16',
 '\x17': '17',
 '\x18': '18',
 '\x19': '19',
 '\x1a': '1a',
 '\x1b': '1b',
 '\x1c': '1c',
 '\x1d': '1d',
 '\x1e': '1e',
 '\x1f': '1f',
 ' ': '20',
 '!': '21',
 '"': '22',
 '#': '23',
 '$': '24',
 '%': '25',
 '&': '26',
 "'": '27',
 '(': '28',
 ')': '29',
 '*': '2a',
 '+': '2b',
 ',': '2c',
 '-': '2d',
 '.': '2e',
 '/': '2f',
 '0': '30',
 '1': '31',
 '2': '32',
 '3': '33',
 '4': '34',
 '5': '35',
 '6': '36',
 '7': '37',
 '8': '38',
 '9': '39',
 ':': '3a',
 ';': '3b',
 '<': '3c',
 '=': '3d',
 '>': '3e',
 '?': '3f',
 '@': '40',
 'A': '41',
 'B': '42',
 'C': '43',
 'D': '44',
 'E': '45',
 'F': '46',
 'G': '47',
 'H': '48',
 'I': '49',
 'J': '4a',
 'K': '4b',
 'L': '4c',
 'M': '4d',
 'N': '4e',
 'O': '4f',
 'P': '50',
 'Q': '51',
 'R': '52',
 'S': '53',
 'T': '54',
 'U': '55',
 'V': '56',
 'W': '57',
 'X': '58',
 'Y': '59',
 'Z': '5a',
 '[': '5b',
 '\\': '5c',
 ']': '5d',
 '^': '5e',
 '_': '5f',
 '`': '60',
 'a': '61',
 'b': '62',
 'c': '63',
 'd': '64',
 'e': '65',
 'f': '66',
 'g': '67',
 'h': '68',
 'i': '69',
 'j': '6a',
 'k': '6b',
 'l': '6c',
 'm': '6d',
 'n': '6e',
 'o': '6f',
 'p': '70',
 'q': '71',
 'r': '72',
 's': '73',
 't': '74',
 'u': '75',
 'v': '76',
 'w': '77',
 'x': '78',
 'y': '79',
 'z': '7a',
 '{': '7b',
 '|': '7c',
 '}': '7d',
 '~': '7e',
 '\x7f': '7f',
 '\x80': '80',
 '\x81': '81',
 '\x82': '82',
 '\x83': '83',
 '\x84': '84',
 '\x85': '85',
 '\x86': '86',
 '\x87': '87',
 '\x88': '88',
 '\x89': '89',
 '\x8a': '8a',
 '\x8b': '8b',
 '\x8c': '8c',
 '\x8d': '8d',
 '\x8e': '8e',
 '\x8f': '8f',
 '\x90': '90',
 '\x91': '91',
 '\x92': '92',
 '\x93': '93',
 '\x94': '94',
 '\x95': '95',
 '\x96': '96',
 '\x97': '97',
 '\x98': '98',
 '\x99': '99',
 '\x9a': '9a',
 '\x9b': '9b',
 '\x9c': '9c',
 '\x9d': '9d',
 '\x9e': '9e',
 '\x9f': '9f',
 '\xa0': 'a0',
 '\xa1': 'a1',
 '\xa2': 'a2',
 '\xa3': 'a3',
 '\xa4': 'a4',
 '\xa5': 'a5',
 '\xa6': 'a6',
 '\xa7': 'a7',
 '\xa8': 'a8',
 '\xa9': 'a9',
 '\xaa': 'aa',
 '\xab': 'ab',
 '\xac': 'ac',
 '\xad': 'ad',
 '\xae': 'ae',
 '\xaf': 'af',
 '\xb0': 'b0',
 '\xb1': 'b1',
 '\xb2': 'b2',
 '\xb3': 'b3',
 '\xb4': 'b4',
 '\xb5': 'b5',
 '\xb6': 'b6',
 '\xb7': 'b7',
 '\xb8': 'b8',
 '\xb9': 'b9',
 '\xba': 'ba',
 '\xbb': 'bb',
 '\xbc': 'bc',
 '\xbd': 'bd',
 '\xbe': 'be',
 '\xbf': 'bf',
 '\xc0': 'c0',
 '\xc1': 'c1',
 '\xc2': 'c2',
 '\xc3': 'c3',
 '\xc4': 'c4',
 '\xc5': 'c5',
 '\xc6': 'c6',
 '\xc7': 'c7',
 '\xc8': 'c8',
 '\xc9': 'c9',
 '\xca': 'ca',
 '\xcb': 'cb',
 '\xcc': 'cc',
 '\xcd': 'cd',
 '\xce': 'ce',
 '\xcf': 'cf',
 '\xd0': 'd0',
 '\xd1': 'd1',
 '\xd2': 'd2',
 '\xd3': 'd3',
 '\xd4': 'd4',
 '\xd5': 'd5',
 '\xd6': 'd6',
 '\xd7': 'd7',
 '\xd8': 'd8',
 '\xd9': 'd9',
 '\xda': 'da',
 '\xdb': 'db',
 '\xdc': 'dc',
 '\xdd': 'dd',
 '\xde': 'de',
 '\xdf': 'df',
 '\xe0': 'e0',
 '\xe1': 'e1',
 '\xe2': 'e2',
 '\xe3': 'e3',
 '\xe4': 'e4',
 '\xe5': 'e5',
 '\xe6': 'e6',
 '\xe7': 'e7',
 '\xe8': 'e8',
 '\xe9': 'e9',
 '\xea': 'ea',
 '\xeb': 'eb',
 '\xec': 'ec',
 '\xed': 'ed',
 '\xee': 'ee',
 '\xef': 'ef',
 '\xf0': 'f0',
 '\xf1': 'f1',
 '\xf2': 'f2',
 '\xf3': 'f3',
 '\xf4': 'f4',
 '\xf5': 'f5',
 '\xf6': 'f6',
 '\xf7': 'f7',
 '\xf8': 'f8',
 '\xf9': 'f9',
 '\xfa': 'fa',
 '\xfb': 'fb',
 '\xfc': 'fc',
 '\xfd': 'fd',
 '\xfe': 'fe',
 '\xff': 'ff'}
